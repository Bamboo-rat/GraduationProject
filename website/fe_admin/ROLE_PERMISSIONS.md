# ğŸ“‹ PhÃ¢n Quyá»n Admin - SaveFood Platform

## ğŸ¯ Tá»•ng Quan Cáº¥p Báº­c

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SUPER_ADMIN                          â”‚
â”‚              ğŸ”´ Quáº£n trá»‹ viÃªn cáº¥p cao                    â”‚
â”‚                   ToÃ n quyá»n há»‡ thá»‘ng                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MODERATOR                           â”‚
â”‚              ğŸ”µ Kiá»ƒm soÃ¡t viÃªn (Cáº¥p trung)              â”‚
â”‚        GiÃ¡m sÃ¡t, kiá»ƒm tra, phÃ¡t hiá»‡n vi pháº¡m            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        STAFF                             â”‚
â”‚              ğŸŸ¡ NhÃ¢n viÃªn váº­n hÃ nh (Cáº¥p tháº¥p)           â”‚
â”‚              Thá»±c hiá»‡n cÃ´ng viá»‡c hÃ ng ngÃ y              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”´ SUPER_ADMIN (Quáº£n trá»‹ viÃªn cáº¥p cao)

### Äáº·c quyá»n
- âœ… **ToÃ n quyá»n** trÃªn toÃ n bá»™ há»‡ thá»‘ng
- âœ… Quyáº¿t Ä‘á»‹nh cuá»‘i cÃ¹ng cho má»i thao tÃ¡c quan trá»ng
- âœ… Quáº£n lÃ½ tÃ i khoáº£n admin khÃ¡c (MODERATOR, STAFF)
- âœ… Truy cáº­p táº¥t cáº£ dá»¯ liá»‡u tÃ i chÃ­nh
- âœ… Cáº¥u hÃ¬nh há»‡ thá»‘ng vÃ  phÃ¢n quyá»n

### Chi tiáº¿t chá»©c nÄƒng

#### ğŸ“Š Dashboard
- âœ… Xem táº¥t cáº£ chá»‰ sá»‘ chi tiáº¿t
- âœ… PhÃ¢n tÃ­ch sÃ¢u vá» doanh thu, Ä‘Æ¡n hÃ ng, khÃ¡ch hÃ ng
- âœ… Theo dÃµi real-time performance

#### ğŸ‘¥ Quáº£n lÃ½ NhÃ¢n viÃªn (`/employees`)
- âœ… **Xem** danh sÃ¡ch admin, staff, MODERATOR
- âœ… **Táº¡o** tÃ i khoáº£n admin má»›i
- âœ… **Chá»‰nh sá»­a** thÃ´ng tin vÃ  phÃ¢n quyá»n
- âœ… **XÃ³a/khÃ³a** tÃ i khoáº£n admin
- âœ… **Xem** lá»‹ch sá»­ hoáº¡t Ä‘á»™ng cá»§a táº¥t cáº£ admin

#### ğŸ¤ Quáº£n lÃ½ Äá»‘i tÃ¡c (`/partners`)
- âœ… **Xem** táº¥t cáº£ supplier vÃ  store
- âœ… **Duyá»‡t/tá»« chá»‘i** supplier pending
- âœ… **Duyá»‡t/tá»« chá»‘i** store approval
- âœ… **Chá»‰nh sá»­a** thÃ´ng tin supplier/store
- âœ… **KhÃ³a vÄ©nh viá»…n** tÃ i khoáº£n vi pháº¡m
- âœ… **XÃ³a** tÃ i khoáº£n
- âœ… **Xem** performance chi tiáº¿t
- âœ… **Chat** vá»›i supplier
- âœ… **Xem** business updates

#### ğŸ‘¤ Quáº£n lÃ½ KhÃ¡ch hÃ ng (`/customers`)
- âœ… **Xem** danh sÃ¡ch vÃ  chi tiáº¿t
- âœ… **Xem** dá»¯ liá»‡u tÃ i chÃ­nh nháº¡y cáº£m
- âœ… **Chá»‰nh sá»­a** thÃ´ng tin
- âœ… **Thay Ä‘á»•i** tier membership
- âœ… **KhÃ³a vÄ©nh viá»…n** tÃ i khoáº£n
- âœ… **XÃ³a** tÃ i khoáº£n
- âœ… **Xá»­ lÃ½** support tickets

#### ğŸ“¦ Quáº£n lÃ½ Sáº£n pháº©m (`/products`)
- âœ… **Xem** táº¥t cáº£ sáº£n pháº©m
- âœ… **Chá»‰nh sá»­a** thÃ´ng tin sáº£n pháº©m
- âœ… **XÃ³a** sáº£n pháº©m vi pháº¡m
- âœ… **PhÃª duyá»‡t** sáº£n pháº©m má»›i
- âœ… **Quáº£n lÃ½** danh má»¥c (create, edit, delete)
- âœ… **Duyá»‡t/tá»« chá»‘i** category suggestions

#### ğŸ’° Quáº£n lÃ½ TÃ i chÃ­nh (`/finance`)
- âœ… **Xem** táº¥t cáº£ giao dá»‹ch
- âœ… **Thá»±c hiá»‡n** Ä‘á»‘i soÃ¡t
- âœ… **Xá»­ lÃ½** hoÃ n tiá»n
- âœ… **Chuyá»ƒn tiá»n** cho supplier
- âœ… **PhÃ¡t hiá»‡n** giao dá»‹ch báº¥t thÆ°á»ng

#### ğŸ¯ Marketing (`/marketing`)
- âœ… **Táº¡o/sá»­a/xÃ³a** banner
- âœ… **Táº¡o** khuyáº¿n mÃ£i platform-wide lá»›n
- âœ… **Duyá»‡t** khuyáº¿n mÃ£i cá»§a supplier
- âœ… **Chá»‰nh sá»­a/xÃ³a** khuyáº¿n mÃ£i

#### ğŸ“ˆ BÃ¡o cÃ¡o (`/reports`)
- âœ… **Xem** táº¥t cáº£ bÃ¡o cÃ¡o (doanh thu, lÃ£ng phÃ­, hÃ nh vi)
- âœ… **Xuáº¥t** bÃ¡o cÃ¡o Excel/PDF
- âœ… **PhÃ¢n tÃ­ch** sÃ¢u dá»¯ liá»‡u

#### ğŸ”§ CÃ i Ä‘áº·t (`/settings`)
- âœ… **Cáº¥u hÃ¬nh** há»‡ thá»‘ng
- âœ… **Quáº£n lÃ½** phÃ¢n quyá»n
- âœ… **Xem** audit log
- âœ… **Thay Ä‘á»•i** chÃ­nh sÃ¡ch platform

#### ğŸ’¬ Há»— trá»£ (`/support`)
- âœ… **Xá»­ lÃ½** ticket phá»©c táº¡p
- âœ… **Chat** vá»›i customer vÃ  supplier
- âœ… **ÄÃ¡nh giÃ¡** cháº¥t lÆ°á»£ng xá»­ lÃ½ cá»§a staff

---

## ğŸ”µ MODERATOR (Kiá»ƒm soÃ¡t viÃªn - Cáº¥p trung)

### Äáº·c quyá»n
- âš ï¸ **GiÃ¡m sÃ¡t vÃ  kiá»ƒm soÃ¡t** cháº¥t lÆ°á»£ng
- âš ï¸ **PhÃ¡t hiá»‡n vÃ  cáº£nh bÃ¡o** vi pháº¡m
- âš ï¸ **Táº¡m khÃ³a** tÃ i khoáº£n (pending SUPER_ADMIN xÃ¡c nháº­n)
- âš ï¸ **Full access** bÃ¡o cÃ¡o vÃ  phÃ¢n tÃ­ch
- âš ï¸ **Xem** hoáº¡t Ä‘á»™ng cá»§a STAFF
- âŒ **KHÃ”NG** Ä‘Æ°á»£c quáº£n lÃ½ admin khÃ¡c
- âŒ **KHÃ”NG** thá»±c hiá»‡n giao dá»‹ch tÃ i chÃ­nh

### Chi tiáº¿t chá»©c nÄƒng

#### ğŸ“Š Dashboard
- âœ… Xem táº¥t cáº£ chá»‰ sá»‘ chi tiáº¿t (giá»‘ng SUPER_ADMIN)
- âœ… PhÃ¢n tÃ­ch performance
- âœ… MODERATOR real-time

#### ğŸ‘¥ Quáº£n lÃ½ NhÃ¢n viÃªn
- âš ï¸ **Xem** hoáº¡t Ä‘á»™ng cá»§a STAFF
- âš ï¸ **ÄÃ¡nh giÃ¡** hiá»‡u suáº¥t STAFF
- âŒ **KHÃ”NG** táº¡o/sá»­a/xÃ³a admin

#### ğŸ¤ Quáº£n lÃ½ Äá»‘i tÃ¡c
- âœ… **Xem** táº¥t cáº£ supplier vÃ  store
- âœ… **Xem** performance chi tiáº¿t
- âš ï¸ **Cáº£nh bÃ¡o** vi pháº¡m
- âš ï¸ **Táº¡m khÃ³a** tÃ i khoáº£n (pending review)
- âœ… **Chat** vá»›i supplier
- âŒ **KHÃ”NG** duyá»‡t supplier má»›i
- âŒ **KHÃ”NG** khÃ³a vÄ©nh viá»…n hoáº·c xÃ³a

#### ğŸ‘¤ Quáº£n lÃ½ KhÃ¡ch hÃ ng
- âœ… **Xem** danh sÃ¡ch vÃ  chi tiáº¿t Ä‘áº§y Ä‘á»§
- âœ… **Xem** dá»¯ liá»‡u tÃ i chÃ­nh
- âš ï¸ **Cáº£nh bÃ¡o** khÃ¡ch hÃ ng vi pháº¡m
- âš ï¸ **Táº¡m khÃ³a** tÃ i khoáº£n Ä‘Ã¡ng ngá»
- âœ… **Xá»­ lÃ½** support tickets phá»©c táº¡p
- âŒ **KHÃ”NG** xÃ³a tÃ i khoáº£n
- âŒ **KHÃ”NG** thay Ä‘á»•i tier

#### ğŸ“¦ Quáº£n lÃ½ Sáº£n pháº©m
- âœ… **Xem** táº¥t cáº£ sáº£n pháº©m
- âœ… **XÃ³a** sáº£n pháº©m vi pháº¡m
- âœ… **PhÃª duyá»‡t** sáº£n pháº©m má»›i
- âœ… **Duyá»‡t/tá»« chá»‘i** category suggestions
- âŒ **KHÃ”NG** táº¡o/sá»­a danh má»¥c chÃ­nh

#### ğŸ’° Quáº£n lÃ½ TÃ i chÃ­nh
- âœ… **Xem** táº¥t cáº£ giao dá»‹ch
- âš ï¸ **PhÃ¡t hiá»‡n** vÃ  Ä‘Ã¡nh dáº¥u giao dá»‹ch báº¥t thÆ°á»ng
- âš ï¸ **YÃªu cáº§u** Ä‘á»‘i soÃ¡t (khÃ´ng thá»±c hiá»‡n)
- âŒ **KHÃ”NG** thá»±c hiá»‡n hoÃ n tiá»n
- âŒ **KHÃ”NG** chuyá»ƒn tiá»n

#### ğŸ¯ Marketing
- âœ… **Xem** táº¥t cáº£ campaign
- âœ… **Táº¡o/sá»­a/xÃ³a** banner
- âœ… **Duyá»‡t/tá»« chá»‘i** khuyáº¿n mÃ£i cá»§a supplier
- âŒ **KHÃ”NG** táº¡o khuyáº¿n mÃ£i platform-wide lá»›n

#### ğŸ“ˆ BÃ¡o cÃ¡o
- âœ… **Full access** - Xem táº¥t cáº£ bÃ¡o cÃ¡o
- âœ… **Xuáº¥t** bÃ¡o cÃ¡o
- âœ… **PhÃ¢n tÃ­ch** sÃ¢u dá»¯ liá»‡u tÃ i chÃ­nh

#### ğŸ”§ CÃ i Ä‘áº·t
- âœ… **Xem** audit log cá»§a táº¥t cáº£ user
- âœ… **Theo dÃµi** hoáº¡t Ä‘á»™ng STAFF
- âŒ **KHÃ”NG** thay Ä‘á»•i cáº¥u hÃ¬nh há»‡ thá»‘ng
- âŒ **KHÃ”NG** quáº£n lÃ½ phÃ¢n quyá»n

#### ğŸ’¬ Há»— trá»£
- âœ… **Xá»­ lÃ½** ticket phá»©c táº¡p
- âœ… **Chat** vá»›i customer vÃ  supplier
- âœ… **ÄÃ¡nh giÃ¡** cháº¥t lÆ°á»£ng xá»­ lÃ½ cá»§a STAFF

---

## ğŸŸ¡ STAFF (NhÃ¢n viÃªn váº­n hÃ nh - Cáº¥p tháº¥p)

### Äáº·c quyá»n
- âœ… **Thá»±c hiá»‡n** cÃ´ng viá»‡c hÃ ng ngÃ y
- âœ… **Há»— trá»£** khÃ¡ch hÃ ng
- âœ… **Duyá»‡t** cÃ¡c yÃªu cáº§u Ä‘Æ¡n giáº£n
- âŒ **KHÃ”NG** xem dá»¯ liá»‡u tÃ i chÃ­nh nháº¡y cáº£m
- âŒ **KHÃ”NG** khÃ³a/xÃ³a tÃ i khoáº£n
- âŒ **KHÃ”NG** xem audit log

### Chi tiáº¿t chá»©c nÄƒng

#### ğŸ“Š Dashboard
- âš ï¸ **Xem** chá»‰ sá»‘ cÆ¡ báº£n liÃªn quan cÃ´ng viá»‡c
- âš ï¸ **KhÃ´ng** xem dá»¯ liá»‡u tÃ i chÃ­nh chi tiáº¿t

#### ğŸ‘¥ Quáº£n lÃ½ NhÃ¢n viÃªn
- âŒ **KHÃ”NG** cÃ³ quyá»n

#### ğŸ¤ Quáº£n lÃ½ Äá»‘i tÃ¡c
- âœ… **Xem** danh sÃ¡ch supplier vÃ  store
- âœ… **Duyá»‡t/tá»« chá»‘i** supplier pending (cÃ´ng viá»‡c routine)
- âœ… **Duyá»‡t/tá»« chá»‘i** store approval
- âœ… **Chat** vá»›i supplier
- âœ… **Xem** business updates
- âŒ **KHÃ”NG** khÃ³a tÃ i khoáº£n
- âŒ **KHÃ”NG** sá»­a thÃ´ng tin nháº¡y cáº£m
- âŒ **KHÃ”NG** xem performance chi tiáº¿t

#### ğŸ‘¤ Quáº£n lÃ½ KhÃ¡ch hÃ ng
- âœ… **Xem** danh sÃ¡ch vÃ  chi tiáº¿t cÆ¡ báº£n
- âœ… **Xá»­ lÃ½** support tickets Ä‘Æ¡n giáº£n
- âŒ **KHÃ”NG** xem dá»¯ liá»‡u tÃ i chÃ­nh
- âŒ **KHÃ”NG** khÃ³a tÃ i khoáº£n
- âŒ **KHÃ”NG** thay Ä‘á»•i thÃ´ng tin quan trá»ng

#### ğŸ“¦ Quáº£n lÃ½ Sáº£n pháº©m
- âœ… **Xem** sáº£n pháº©m
- âœ… **Duyá»‡t** category suggestions Ä‘Æ¡n giáº£n
- âŒ **KHÃ”NG** xÃ³a sáº£n pháº©m
- âŒ **KHÃ”NG** sá»­a danh má»¥c

#### ğŸ’° Quáº£n lÃ½ TÃ i chÃ­nh
- âŒ **KHÃ”NG** cÃ³ quyá»n truy cáº­p

#### ğŸ¯ Marketing
- âœ… **Xem** campaign
- âœ… **Táº¡o/sá»­a** banner nhá»
- âœ… **Xem** khuyáº¿n mÃ£i
- âŒ **KHÃ”NG** táº¡o/duyá»‡t khuyáº¿n mÃ£i

#### ğŸ“ˆ BÃ¡o cÃ¡o
- âš ï¸ **Xem** bÃ¡o cÃ¡o cÆ¡ báº£n (khÃ´ng bao gá»“m tÃ i chÃ­nh)
- âŒ **KHÃ”NG** xuáº¥t bÃ¡o cÃ¡o
- âŒ **KHÃ”NG** xem bÃ¡o cÃ¡o doanh thu, lÃ£ng phÃ­, hÃ nh vi

#### ğŸ”§ CÃ i Ä‘áº·t
- âŒ **KHÃ”NG** cÃ³ quyá»n

#### ğŸ’¬ Há»— trá»£
- âœ… **Xá»­ lÃ½** ticket Ä‘Æ¡n giáº£n
- âœ… **Chat** vá»›i customer vÃ  supplier
- âŒ **KHÃ”NG** xá»­ lÃ½ ticket phá»©c táº¡p (escalate to MODERATOR)

---

## ğŸ“‹ Báº£ng So SÃ¡nh Chi Tiáº¿t

| Chá»©c nÄƒng | SUPER_ADMIN | MODERATOR | STAFF |
|-----------|-------------|---------|-------|
| **Quáº£n lÃ½ Admin** | âœ… Full | âš ï¸ View STAFF only | âŒ |
| **Duyá»‡t Supplier** | âœ… | âŒ View only | âœ… |
| **Duyá»‡t Store** | âœ… | âŒ View only | âœ… |
| **KhÃ³a tÃ i khoáº£n vÄ©nh viá»…n** | âœ… | âŒ | âŒ |
| **Táº¡m khÃ³a tÃ i khoáº£n** | âœ… | âœ… | âŒ |
| **Cáº£nh bÃ¡o vi pháº¡m** | âœ… | âœ… | âŒ |
| **XÃ³a sáº£n pháº©m** | âœ… | âœ… | âŒ |
| **Xem dá»¯ liá»‡u tÃ i chÃ­nh** | âœ… Full | âœ… Full | âŒ |
| **Äá»‘i soÃ¡t tÃ i chÃ­nh** | âœ… | âš ï¸ Request only | âŒ |
| **HoÃ n tiá»n** | âœ… | âŒ | âŒ |
| **Táº¡o khuyáº¿n mÃ£i lá»›n** | âœ… | âŒ | âŒ |
| **Duyá»‡t khuyáº¿n mÃ£i** | âœ… | âœ… | âŒ |
| **Xem bÃ¡o cÃ¡o Ä‘áº§y Ä‘á»§** | âœ… | âœ… | âš ï¸ Basic only |
| **Xuáº¥t bÃ¡o cÃ¡o** | âœ… | âœ… | âŒ |
| **Xem audit log** | âœ… | âœ… | âŒ |
| **Cáº¥u hÃ¬nh há»‡ thá»‘ng** | âœ… | âŒ | âŒ |
| **Chat/Support** | âœ… Complex | âœ… Complex | âš ï¸ Simple only |
| **ÄÃ¡nh giÃ¡ STAFF** | âœ… | âœ… | âŒ |

---

## ğŸ›£ï¸ PhÃ¢n Quyá»n Route

### ğŸ“Š Dashboard
- `/dashboard/overview` â†’ âœ… ALL ROLES
- `/dashboard/MODERATOR` â†’ âœ… ALL ROLES
- `/dashboard/notification-MODERATOR` â†’ âš ï¸ SUPER_ADMIN, MODERATOR

### ğŸ‘¥ NhÃ¢n viÃªn
- `/employees/admins` â†’ ğŸ”´ SUPER_ADMIN ONLY

### ğŸ¤ Äá»‘i tÃ¡c
- `/partners/list-partners` â†’ âœ… ALL ROLES
- `/partners/pending` â†’ âœ… ALL ROLES
- `/partners/store-approval` â†’ âœ… ALL ROLES
- `/partners/performance` â†’ âš ï¸ SUPER_ADMIN, MODERATOR
- `/partners/business-updates` â†’ âœ… ALL ROLES
- `/partners/chat` â†’ âœ… ALL ROLES

### ğŸ‘¤ KhÃ¡ch hÃ ng
- `/customers/list-customers` â†’ âœ… ALL ROLES
- `/customers/:userId` â†’ âœ… ALL ROLES
- `/customers/supportTickets` â†’ âœ… ALL ROLES

### ğŸ“¦ Sáº£n pháº©m
- `/products/list-products` â†’ âœ… ALL ROLES
- `/products/categories` â†’ âœ… ALL ROLES
- `/products/category-suggestions` â†’ âœ… ALL ROLES

### ğŸ’° TÃ i chÃ­nh
- `/finance/transactions` â†’ âš ï¸ SUPER_ADMIN, MODERATOR
- `/finance/reconciliation` â†’ ğŸ”´ SUPER_ADMIN ONLY

### ğŸ¯ Marketing
- `/marketing/banners` â†’ âœ… ALL ROLES
- `/marketing/promotions` â†’ âœ… ALL ROLES (view), âš ï¸ SUPER_ADMIN, MODERATOR (approve)

### ğŸ“ˆ BÃ¡o cÃ¡o
- `/reports/revenue` â†’ âš ï¸ SUPER_ADMIN, MODERATOR
- `/reports/waste` â†’ âš ï¸ SUPER_ADMIN, MODERATOR
- `/reports/behavior` â†’ âš ï¸ SUPER_ADMIN, MODERATOR

### ğŸ”§ CÃ i Ä‘áº·t
- `/settings/system-settings` â†’ ğŸ”´ SUPER_ADMIN ONLY
- `/settings/roles` â†’ ğŸ”´ SUPER_ADMIN ONLY
- `/settings/audit` â†’ âš ï¸ SUPER_ADMIN, MODERATOR

---

## ğŸ’¡ HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

### Trong Code

#### 1. Sá»­ dá»¥ng ProtectedRoute
```tsx
import ProtectedRoute from '~/component/common/ProtectedRoute';

// Chá»‰ SUPER_ADMIN
<ProtectedRoute requiredRoles={['SUPER_ADMIN']}>
  <Component />
</ProtectedRoute>

// SUPER_ADMIN vÃ  MODERATOR
<ProtectedRoute requiredRoles={['SUPER_ADMIN', 'MODERATOR']}>
  <Component />
</ProtectedRoute>

// Táº¥t cáº£ roles
<ProtectedRoute requiredRoles={['SUPER_ADMIN', 'MODERATOR', 'STAFF']}>
  <Component />
</ProtectedRoute>
```

#### 2. Sá»­ dá»¥ng usePermissions Hook
```tsx
import { usePermissions } from '~/hooks/usePermissions';

function Component() {
  const { can, isSuperAdmin, isMODERATOR, isStaff } = usePermissions();

  return (
    <>
      {can('products.delete') && (
        <button>XÃ³a sáº£n pháº©m</button>
      )}
      
      {isSuperAdmin && (
        <button>Chá»©c nÄƒng chá»‰ SUPER_ADMIN</button>
      )}
      
      {(isSuperAdmin || isMODERATOR) && (
        <button>Xem bÃ¡o cÃ¡o</button>
      )}
    </>
  );
}
```

#### 3. Check Multiple Permissions
```tsx
const { canAny, canAll } = usePermissions();

// CÃ³ Ã­t nháº¥t 1 quyá»n
if (canAny(['products.edit', 'products.delete'])) {
  // Show actions menu
}

// CÃ³ táº¥t cáº£ cÃ¡c quyá»n
if (canAll(['finance.view_all', 'finance.reconciliation'])) {
  // Show reconciliation button
}
```

---

## ğŸ” Best Practices

### 1. LuÃ´n kiá»ƒm tra quyá»n á»Ÿ cáº£ Frontend vÃ  Backend
- Frontend: áº¨n UI, disable button
- Backend: Validate request trÆ°á»›c khi thá»±c hiá»‡n

### 2. Sá»­ dá»¥ng Principle of Least Privilege
- Chá»‰ cáº¥p quyá»n tá»‘i thiá»ƒu cáº§n thiáº¿t
- STAFF khÃ´ng cáº§n xem dá»¯ liá»‡u tÃ i chÃ­nh
- MODERATOR khÃ´ng Ä‘Æ°á»£c thá»±c hiá»‡n giao dá»‹ch

### 3. Audit Trail
- Log táº¥t cáº£ hÃ nh Ä‘á»™ng quan trá»ng
- MODERATOR vÃ  SUPER_ADMIN xem audit log
- Theo dÃµi ai lÃ m gÃ¬, khi nÃ o

### 4. Escalation Flow
```
STAFF (gáº·p váº¥n Ä‘á») 
  â†“
MODERATOR (xá»­ lÃ½ vÃ  giÃ¡m sÃ¡t)
  â†“
SUPER_ADMIN (quyáº¿t Ä‘á»‹nh cuá»‘i cÃ¹ng)
```

---

## ğŸ“ Ghi ChÃº Quan Trá»ng

1. **SUPER_ADMIN luÃ´n cÃ³ toÃ n quyá»n** - Bypass má»i role check
2. **MODERATOR lÃ  vai trÃ² giÃ¡m sÃ¡t** - KhÃ´ng thá»±c hiá»‡n thao tÃ¡c quan trá»ng, chá»‰ cáº£nh bÃ¡o vÃ  yÃªu cáº§u
3. **STAFF lÃ  vai trÃ² thá»±c thi** - LÃ m viá»‡c routine, khÃ´ng truy cáº­p dá»¯ liá»‡u nháº¡y cáº£m
4. **Táº¡m khÃ³a vs KhÃ³a vÄ©nh viá»…n**:
   - MODERATOR: Táº¡m khÃ³a (cÃ³ thá»ƒ má»Ÿ láº¡i)
   - SUPER_ADMIN: KhÃ³a vÄ©nh viá»…n (quyáº¿t Ä‘á»‹nh cuá»‘i)
5. **BÃ¡o cÃ¡o**:
   - STAFF: KhÃ´ng xem bÃ¡o cÃ¡o tÃ i chÃ­nh
   - MODERATOR: Full access bÃ¡o cÃ¡o + export
   - SUPER_ADMIN: ToÃ n bá»™

---

**Cáº­p nháº­t láº§n cuá»‘i**: 19/11/2025  
**NgÆ°á»i táº¡o**: SaveFood Development Team

