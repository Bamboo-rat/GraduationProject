spring.application.name=backend
server.port=8080

# ===== DATABASE CONNECTION (DATASOURCE) =====
# PostgreSQL (Supabase) - Commented out due to connection limit
#spring.datasource.url=${DB_URL}
#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.devtools.restart.enabled=false

# ===============================
# = DATASOURCE (AWS RDS)
# ===============================
spring.datasource.url=jdbc:mysql://foodsave.cbqgwoyam2lh.ap-southeast-2.rds.amazonaws.com:3306/foodsave?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=admin
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# HikariCP Configuration
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.datasource.tomcat.initSQL=SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci

# ===============================
# KEYCLOAK CONFIGURATION
# ===============================
keycloak.auth-server-url=${KEYCLOAK_AUTH_SERVER_URL}
keycloak.realm=${KEYCLOAK_REALM}
keycloak.resource=${KEYCLOAK_RESOURCE}
keycloak.customer.client-secret=${KEYCLOAK_CLIENT_SECRET}

keycloak.admin.username=${KEYCLOAK_ADMIN_USERNAME}
keycloak.admin.password=${KEYCLOAK_ADMIN_PASSWORD}
keycloak.admin.client-id=${KEYCLOAK_ADMIN_CLIENT_ID}

spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_AUTH_SERVER_URL}/realms/${KEYCLOAK_REALM}


# ===============================
# SENDGRID CONFIGURATION
# ===============================
sendgrid.api-key=${SENDGRID_API_KEY}
sendgrid.from-email=${SENDGRID_FROM_EMAIL}
sendgrid.from-name=${SENDGRID_FROM_NAME}

# ===============================
# APPLICATION CONFIGURATION
# ===============================
app.frontend-url=${FRONTEND_URL}
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS}

# ===============================
# CLOUDINARY CONFIGURATION
# ===============================
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}

# Folder names for organizing files
cloudinary.folder.business-licenses=business-licenses
cloudinary.folder.banner=banner
cloudinary.folder.products=products
cloudinary.folder.avatar-customer=avatar-customer
